<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Mysql基本命令 | 秋失叶的博客</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://doudk.github.io/favicon.ico?v=1658153490748">
<link rel="stylesheet" href="https://doudk.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="一：常见约束
NOT NULL：非空，用于保证该字段的值不能为空
比如姓名、学号等
DEFAULT：默认，用于保证该字段有默认值
比如性别
PRIMARY KEY:主键，用于保证该字段的值具有唯一性，并且非空
比如学号、员工编号
UNIQU..." />
    <meta name="keywords" content="Mysql" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://doudk.github.io">
        <img src="https://doudk.github.io/images/avatar.png?v=1658153490748" class="site-logo">
        <h1 class="site-title">秋失叶的博客</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      总之，先朝着目光能及的地方冲刺就好了
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://doudk.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Mysql基本命令</h2>
            <div class="post-date">2022-07-18</div>
            
              <div class="feature-container" style="background-image: url('https://doudk.github.io/post-images/mysql-ji-ben-ming-ling.png')">
              </div>
            
            <div class="post-content" v-pre>
              <p>一：常见约束<br>
NOT NULL：非空，用于保证该字段的值不能为空<br>
比如姓名、学号等</p>
<p>DEFAULT：默认，用于保证该字段有默认值<br>
比如性别</p>
<p>PRIMARY KEY:主键，用于保证该字段的值具有唯一性，并且非空<br>
比如学号、员工编号</p>
<p>UNIQUE:唯一，用于保证该字段的值具有唯一性，可以为空<br>
比如座位号</p>
<p>CHECK:检查约束//!</p>
<p>FOREIGN KEY :外键，用于限制两个表的关系，用于保证该字段的值必须来自于主表的关联的值。<br>
比如学生表的专业编号，员工的部门编号，员工表的工种编号<br>
<img src="https://doudk.github.io/post-images/1658152301690.jpg" alt="" loading="lazy"><br>
二：数据库基本操作<br>
1：显示数据库<br>
show databases</p>
<p>2:进入数据库<br>
use 库名;//例如 use test;</p>
<p>3：显示数据库的表<br>
show tables;</p>
<p>3.5：创建数据库<br>
create database 库名 default charset utf8 collate utf8_general_ci;</p>
<p>4：显示其他库的表<br>
show tables from 库名;//例如 show tables from mysql</p>
<p>5：显示位于哪个库<br>
select database();</p>
<p>6:创建表<br>
create table stuinfo(<br>
-&gt;id int,//字段 类型<br>
-&gt;name varchar(20));</p>
<p>7修改表名<br>
alter table 旧表名 rename to 新表名;</p>
<p>8修改字段的数据类型<br>
alter table 表名 modify 字段名 数据类型;</p>
<p>9修改字段名<br>
alter table 表名 change 旧字段名 新字段名 新数据类型;</p>
<p>10添加字段<br>
alter table 表名 add 新字段名 新数据类型;</p>
<p>11删除字段<br>
alter table 表名 drop 字段名；</p>
<p>12修改字段的排列位置<br>
alter table 表名 modify 字段 数据类型 after 字段；</p>
<p>13:删除表<br>
drop table if exists 表名;</p>
<p>14:约束<br>
primary key//主键<br>
not null//非空<br>
default//默认<br>
unique//唯一</p>
<p>15:查看表中索引<br>
show index from 表名;</p>
<p>16:添加表级约束</p>
<p>create table 表名(<br>
id int,<br>
stuname varchar(20),<br>
gender char(1),<br>
seat int,<br>
age int,<br>
majorid int,</p>
<pre><code>        primary key(id),#主键
        unique(seat),#唯一键
        default(age) 18,#默认
        check(gender='男'or gender = '女'),#检查
        [constraint fk_stuinfo_major]  foreign key(majorid) references major(id)#外键
</code></pre>
<p>);</p>
<p>17:修改表时添加约束:</p>
<p>alter table 表名 modify column 表名 类型 约束;//列级</p>
<p>alter table 表名 add 约束(字段);//表级约束</p>
<p>alter table 表名 add [constraint 外键名] foreign key(字段) references 主表(字段);//添加外键</p>
<p>18:修改表时删除约束<br>
alter table 表名 modify column 表名 类型;<br>
alter table 表名 drop 约束;<br>
alter table 表名 drop foreign key 外键名;<br>
alter table 表名 drop index 唯一键名;//show index from 表名查看</p>
<p>19:查看表的结构<br>
desc 表名; //例如 desc stuinfo;</p>
<p>20:查看表的数据<br>
select * from 表名//例如 select * from stuinfo;查询的为整表的数据字段</p>
<p>21:查询单个字段<br>
select 字段名 from 表名;</p>
<p>22:查询多个字段<br>
select 字段名，字段名，字段名 from 表名;</p>
<p>23:插入数据<br>
insert into 表名 (字段) values(值);//</p>
<p>24:修改数据<br>
update 表名 set 列名='修改数据' where name like '%';<br>
update 表名 set 列名='修改数据',列名='修改数据' where id=2;</p>
<p>25:删除数据<br>
delete from 表名 where id=1;</p>
<p>26 复合查询<br>
select * from where id=1 and price&gt;100;</p>
<p>27使用别名指定列<br>
select g_number as 商品号,g_name as 商品名称 from goods;</p>
<p>28模糊查询<br>
select * from goods where g_name like '%520%';</p>
<p>29等值连接<br>
select g_name,g_price,o_number,o_date from goods,orderdetails where orderdetails.g_ID=goods.g_number;//查询所有订单中订购的商品信息和日期。</p>
<p>30外连接<br>
左外连接，left join左边的是主表<br>
右外连接，right join右边的是主表<br>
select good.s_sids,good.s_snames,goods.g_number,goods.g_name,goods.g_price from good left outer join goods on good.s_sids=g_sids;<br>
//了解所有商品类别以及其对应的商品信息。</p>
<p>31升序、降序<br>
order by 字段 asc,字段 desc;</p>
<p>32 IN子查询<br>
select g_number ,g_name,g_sids from goods where g_number in(<br>
select g_number from goods where g_sids in(02)<br>
);//了解和02类别号为同类商品的商品号、商品名称和订单总金额;</p>
<p>32EXISTS的子查询<br>
select os_sid,os_date,os_time from orders where exists(select * from employees where u_state=os_state and os_post=u_post);<br>
//针对EMPLOYEES表中员工，在ORDERS表中查找处理过订单并送货模式为邮寄的所有订单信息。</p>
<p>33复合索引<br>
创建联合索引的语法：create index 索引名 on 表名（字段名1，字段名2）<br>
<img src="https://doudk.github.io/post-images/1658152369914.jpg" alt="" loading="lazy"><br>
三：数据库权限操作<br>
修改密码;<br>
mysqladmin -u用户名 -p旧密码 password 新密码<br>
set password for '用户名'@'localhost'=password('新密码');<br>
update user set password=password(&quot;123456&quot;) where user=&quot;root&quot;;</p>
<p>远程登录：mysql -uroot -p密码 -h ip地址</p>
<p>刷新权限：flush privileges;</p>
<p>查看数据库可登录用户：<br>
use mysql；<br>
select user,host from mysql.user;</p>
<p>创建数据库可登陆用户：<br>
create user '用户名'@'localhost' identified by '密码';<br>
alter user '用户名'@'localhost' identified with mysql_native_password by '密码';</p>
<p>create user '用户名'@'%' identified by '密码';<br>
alter user '用户名'@'%' identified with mysql_native_password by '密码';</p>
<p>授予某数据库权限给用户：<br>
grant all privileges on 数据库名.* to 用户名@'localhost' with grant option;<br>
grant all privileges on <em>.</em> to root@'%' with grant option;//超级管理员<br>
grant all privileges on 数据库.表 to 用户@'localhost' with grant option;//只允许用户访问数据库中的某个表<br>
grant select(id,name) on 数据库.表 to 用户@'localhost' with grant option;//某表的select列权限</p>
<p>回收用户权限：<br>
show grants for 用户名@'localhost';//查看用户权限<br>
revoke all privileges on <em>.</em> from 用户@'localhost';//回收所有权限</p>
<p>删除用户：<br>
drop user 用户@'localhost';</p>
<p>找回密码：<br>
net stop mysql<br>
mysqld --skip-grant-tables<br>
重新cmd进mysql<br>
use mysql;<br>
修改密码<br>
刷新权限</p>
<p>查看ip地址：in<br>
ipconfig/all</p>
<p>创建（CREATE）、修改（ALTER）、删除（DROP）插入（INSERT）、更新（UPDATE）、查询（select）</p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://doudk.github.io/tag/mysql-ji-ben-ming-ling/" class="tag">
                    Mysql
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://doudk.github.io/post/git-ji-ben-ming-ling/">
                  <h3 class="post-title">
                    git基本命令
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
